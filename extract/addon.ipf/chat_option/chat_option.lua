function CHAT_OPTION_ON_INIT(addon, frame)	local opacity = config.GetConfigInt("CHAT_OPACITY", 255);	CHAT_SET_OPACITY(opacity);endfunction CHAT_OPTION_CREATE(addon, frame)	local slide_opacity = GET_CHILD(frame, "slide_opacity", "ui::CSlideBar");	local opacity = config.GetConfigInt("CHAT_OPACITY", 255);	slide_opacity:SetLevel(opacity);endfunction CHAT_OPTION_OPEN(frame)	local beforeOpacity = config.GetConfigInt("CHAT_OPACITY", 255);	frame:SetUserValue("BEFORE_OPACITY", beforeOpacity);	  local chatframe = ui.GetFrame('chat');	frame:SetMargin(chatframe:GetX() + 470,chatframe:GetY() - 230,0,0)endfunction CHAT_OPTION_APPLY(frame)		local slide_opacity = GET_CHILD(frame, "slide_opacity", "ui::CSlideBar");	config.SetConfig("CHAT_OPACITY", slide_opacity:GetLevel());	CHAT_OPTION_OPEN(frame);	frame:ShowWindow(0);endfunction CHAT_OPTION_CANCEL(frame)	local beforeOpacity = frame:GetUserIValue("BEFORE_OPACITY");	CHAT_SET_OPACITY(beforeOpacity);	local slide_opacity = GET_CHILD(frame, "slide_opacity", "ui::CSlideBar");	slide_opacity:SetLevel(beforeOpacity);	frame:ShowWindow(0);endfunction CHATOPTION_OPACITY(frame, slide, str, num)		CHAT_SET_OPACITY(num);endfunction CHAT_SET_OPACITY(num)	local chatFrame = ui.GetFrame("chatframe");	if chatFrame == nil then		return;	end	local count = chatFrame:GetChildCount();	for  i = 0, count-1 do 		local child = chatFrame:GetChildByIndex(i);		local childName = child:GetName();		if string.sub(childName, 1, 5) == "chat_" then			if child:GetClassName() == "groupbox" then				child = tolua.cast(child, "ui::CGroupBox");				local colorToneStr = string.format("%02X", num);								colorToneStr = colorToneStr .. "FFFFFF";				child:SetColorTone(colorToneStr);			end		end	endendfunction CHAT_GROUP_INIT_OPTION(group)	local opacity = config.GetConfigInt("CHAT_OPACITY", 255);	local colorToneStr = string.format("%02X", opacity);					colorToneStr = colorToneStr .. "FFFFFF";	group:SetColorTone(colorToneStr);end